<html lang='en'><head><meta content='Jan Tolenaar (c) 2009-2018' name='copyright'><meta content='text/html; charset=utf-8' http-equiv='Content-Type'><meta content='no-cache' http-equiv='Pragmaâ€'><meta content='-1' http-equiv='Expires'><meta content='NO-CACHE' http-equiv='CACHE-CONTROL'><title>help/lisp/import.mdk</title><link href='../../styles.css' type='text/css' rel='StyleSheet'><script type='text/x-mathjax-config'>MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});</script><script type='text/javascript' src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/latest.js??config=TeX-AMS-MML_HTMLorMML'></script></head><body><a href='../../index.html' class='banner'>jan&nbsp;tolenaar&nbsp;/&nbsp;<span style='color:yellow'>kiezel</span>lisp</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href='../../help/index.html' class='banner'>Index of Everything</a><div id='content'><h2>Name</h2>
<p>import</p>
<h2>Usage</h2>
<p>builtin-function</p>
<h2>Syntax</h2>
<p><code>
(<strong>import</strong> <em>type-name</em> &amp;key <em>package-name</em> (<em>package-name-prefix</em> $package-name-prefix) <em>extends-package-name</em> <em>type-parameters</em>)</code><br/></p>
<h2>Description</h2>
<p>The function <code>import</code> creates a package with symbols for all
public methods, properties and fields in the class. Symbol names are derived
from the .NET names by inserting an hyphen before every embedded upper case
letter and by converting to lower case (sometimes to upper case -- see below).
<code>import</code> also registers the package name as a type name with <code>deftype</code>.</p>
<p>If <code>extends-package-name</code> is given, adds extension methods from the CLR type
<code>type-name</code> to the existing import package <code>extends-package-name</code>. Otherwise,
imports the public fields, properties, events, methods and constructors of the
CLR type <code>type-name</code> into the package <code>package-name</code>.</p>
<p><code>package-name</code> defaults to the concatenation of the string <code>package-name-prefix</code>
and the rightmost name part of <code>type-name</code>.</p>
<pre><code>user &gt; (import &quot;System.String&quot;)
it: &lt;Package Name=&quot;string&quot;&gt;
user &gt; (import &quot;Kiezel.StringExtensions&quot; :extends-package-name &quot;string&quot;)
it: &lt;Package Name=&quot;string&quot;&gt;
user &gt; (import &quot;System.Net.WebRequestMethods+Ftp&quot; :package-name :ftp-methods)
it: &lt;Package Name=&quot;ftp-methods&quot;&gt;
user &gt; (import &quot;System.Collections.Generic.List&quot; :type-parameters '(int))
it: &lt;Package Name=&quot;list^1&quot;&gt;
</code></pre>
<h3>Static methods</h3>
<pre><code>user &gt; (path:get-extension &quot;readme.txt&quot;)
it: &quot;.txt&quot;
</code></pre>
<h3>Instance methods</h3>
<pre><code>user &gt; (string:to-upper &quot;hello&quot;)
it: &quot;HELLO&quot;
user &gt; (.to-upper &quot;hello&quot;)
it: &quot;HELLO&quot;
</code></pre>
<p>The expression <code>.to-upper</code> is discussed in more detail below.</p>
<h3>Instance properties</h3>
<pre><code>user &gt; (string:length &quot;hello&quot;)
it: 5
user &gt; (.length &quot;hello&quot;)
it: 5
</code></pre>
<h3>Literal and static readonly fields</h3>
<p>The name is converted to upper case instead of lower case.</p>
<pre><code>user &gt; int32:MAX-VALUE
it: 2147483647
</code></pre>
<h3>Static properties</h3>
<pre><code>user &gt; (encoding:ascii)
it: #&lt;System.Text.ASCIIEncoding&gt;
</code></pre>
<h3>.members and ?members notation</h3>
<p>Instance properties may be accessed by using <em>getter</em> and <em>setter</em> functions but
this requires that the class is <code>import</code>ed. A convenient alternative is to use
<code>accessor</code> expressions. This also applies to methods.</p>
<pre><code>user &gt; .length
it: #&lt;AccessorLambda Name=&quot;length&quot; Nullable=&quot;False&quot;&gt;
user &gt; (.length &quot;hello&quot;)
it: 5
user &gt; (map .length '(&quot;ada&quot; &quot;ruby&quot; &quot;python&quot;))
it: (3 4 6)
user &gt; (def obj (new :city &quot;leiden&quot;))
it: obj
user &gt; (.city obj)
it: &quot;leiden&quot;
    true
user &gt; (.country obj)
it: null
    false
</code></pre>
<p><code>.length</code> is a reader macro that expands to <code>(. &quot;length&quot;)</code>, which
evaluates to a generic function that retrieves the <code>length</code> property of an
object.</p>
<p>Nullable accessors handle <code>null</code> references by returning <code>null</code> instead of
throwing a <code>NullReference</code> exception:</p>
<pre><code>user &gt; ?length
it: #&lt;AccessorLambda Name=&quot;length&quot; Nullable=&quot;True&quot;&gt;
user &gt; (?length &quot;hello&quot;)
it: 5
user &gt; (?length null)
it: null
</code></pre>
<h2>See also</h2>
<p><a href="../lisp/(dollar)package-name-prefix.html">$package-name-prefix</a> <a href="../lisp/reference.html">reference</a></p>

</div></body></html>